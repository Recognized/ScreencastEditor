<idea-plugin>
  <id>vladsaif.syncedit.plugin</id>
  <name>Screencast Editor</name>
  <version>0.4</version>
  <vendor email="vladsayf@gmail.com" url="vk.com/recog">Me</vendor>

  <description><![CDATA[
    Plugin for editing combined audio/video data.
    Provides audio editor, audio player.
    <br>
    Usage: Tools -> Open Audio
    <br>
    ]]></description>

  <idea-version since-build="181.0"/>

  <depends>org.jetbrains.kotlin</depends>

  <extensions defaultExtensionNs="com.intellij">
    <fileEditorProvider implementation="vladsaif.syncedit.plugin.lang.transcript.fork.TranscriptEditorProvider"/>
    <fileTypeFactory implementation="vladsaif.syncedit.plugin.lang.transcript.psi.TranscriptFileTypeFactory"/>
    <fileTypeFactory
        implementation="vladsaif.syncedit.plugin.lang.transcript.psi.InternalTranscriptFileTypeFactory"/>
    <lang.parserDefinition language="TranscriptLanguage"
                           implementationClass="vladsaif.syncedit.plugin.lang.transcript.parser.TranscriptParserDefinition"/>
    <!--<lang.parserDefinition language="GUI Script"-->
    <!--implementationClass="vladsaif.syncedit.plugin.lang.script.parser.UIScriptParserDefinition"/>-->

    <lang.syntaxHighlighterFactory language="TranscriptLanguage"
                                   implementationClass="vladsaif.syncedit.plugin.lang.transcript.annotators.TranscriptHighlighterFactory"/>
    <renameHandler implementation="vladsaif.syncedit.plugin.lang.transcript.refactoring.TranscriptRenameHandler"
                   order="first"/>
    <annotator language="TranscriptLanguage" id="transcriptAnnotator"
               implementationClass="vladsaif.syncedit.plugin.lang.transcript.annotators.TranscriptAnnotator"/>
    <!--<applicationConfigurable instance="vladsaif.syncedit.plugin.State"/>-->
  </extensions>
  <actions>
    <group text="Screencast Editor" id="ScreencastEditor"
           popup="true" compact="true">
      <add-to-group group-id="ToolsMenu" anchor="last"/>
      <action id="vladsaif.syncedit.plugin.recognition.ChooseRecognizerAction"
              icon="ScreencastEditorIcons.SETTINGS"
              class="vladsaif.syncedit.plugin.recognition.ChooseRecognizerAction"
              text="Choose speech recognizer" description="Choose speech recognizer"/>
      <group text="Google speech kit" id="GSpeechKit">
        <action id="vladsaif.syncedit.plugin.actions.SetCredentialsAction"
                icon="ScreencastEditorIcons.SETTINGS"
                class="vladsaif.syncedit.plugin.actions.SetCredentialsAction"
                text="Set cloud recognition credentials " description="Set credentials used in cloud recognition"/>
      </group>
      <separator/>
      <action id="vladsaif.syncedit.plugin.actions.OpenAudioAction"
              class="vladsaif.syncedit.plugin.actions.OpenAudioAction"
              icon="ScreencastEditorIcons.EQUALIZER"
              text="Open audio" description="Opens audio waveform view"/>
      <action id="vladsaif.syncedit.plugin.actions.RecognizeAudioAction"
              icon="ScreencastEditorIcons.EQUALIZER"
              class="vladsaif.syncedit.plugin.actions.RecognizeAudioAction" text="Open and recognize audio"
              description="Get transcript of audio and open it"/>
      <action id="vladsaif.syncedit.plugin.actions.FakeRecognition"
              icon="ScreencastEditorIcons.EQUALIZER"
              class="vladsaif.syncedit.plugin.actions.FakeRecognition" text="Fake recognition"
              description="Get transcript of audio and open it"/>
      <action id="vladsaif.syncedit.plugin.diffview.OpenDiffAction"
              icon="ScreencastEditorIcons.SETTINGS"
              class="vladsaif.syncedit.plugin.diffview.OpenDiffAction"
              text="Manage transcript-script relations" description="Start diff window"/>
      <action id="vladsaif.syncedit.plugin.actions.FakeOpenDiff"
              icon="ScreencastEditorIcons.SETTINGS"
              class="vladsaif.syncedit.plugin.actions.FakeOpenDiff"
              text="Manage transcript-script relations (FAKE)" description="Start diff window"/>
      <action id="vladsaif.syncedit.plugin.actions.FakeRecording"
              icon="ScreencastEditorIcons.SETTINGS"
              class="vladsaif.syncedit.plugin.actions.FakeRecording"
              text="Record sound (FAKE)" description="Start diff window"/>
    </group>
    <action id="vladsaif.syncedit.plugin.lang.transcript.ConcatenateAction"
            class="vladsaif.syncedit.plugin.lang.transcript.refactoring.ConcatenateAction" text="Concatenate words"
            description="Concatenate selected words">
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="SafeDelete"/>
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C"/>
    </action>
    <action id="vladsaif.syncedit.plugin.lang.transcript.refactoring.ExcludeAction"
            class="vladsaif.syncedit.plugin.lang.transcript.refactoring.ExcludeAction" text="Exclude word"
            description="Exclude word from transcript">
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="SafeDelete"/>
      <keyboard-shortcut keymap="$default" first-keystroke="alt DELETE"/>
    </action>
    <action id="vladsaif.syncedit.plugin.lang.transcript.refactoring.IncludeAction"
            class="vladsaif.syncedit.plugin.lang.transcript.refactoring.IncludeAction" text="Include word"
            description="Include to transcript previously excluded word ">
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="SafeDelete"/>
      <keyboard-shortcut keymap="$default" first-keystroke="alt EQUALS"/>
    </action>
    <action id="vladsaif.syncedit.plugin.lang.transcript.refactoring.MuteAction"
            class="vladsaif.syncedit.plugin.lang.transcript.refactoring.MuteAction" text="Mute word"
            description="Mute word">
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="SafeDelete"/>
      <keyboard-shortcut keymap="$default" first-keystroke="alt M"/>
    </action>
  </actions>
  <application-components>
    <component>
      <implementation-class>vladsaif.syncedit.plugin.LibrariesLoader</implementation-class>
    </component>
  </application-components>

  <extensionPoints>
    <extensionPoint qualifiedName="vladsaif.syncedit.plugin.recognition.SpeechRecognizer"
                    interface="vladsaif.syncedit.plugin.recognition.SpeechRecognizer"/>
  </extensionPoints>

  <extensions defaultExtensionNs="vladsaif.syncedit.plugin">
    <recognition.SpeechRecognizer implementation="vladsaif.syncedit.plugin.recognition.recognizers.GSpeechKit"/>
  </extensions>
</idea-plugin>