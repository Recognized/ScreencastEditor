<idea-plugin>
  <id>vladsaif.syncedit.plugin</id>
  <name>Screencast Editor</name>
  <version>0.4</version>
  <vendor email="vladsayf@gmail.com" url="vk.com/recog">Me</vendor>

  <description><![CDATA[
    Plugin for editing combined audio/video data.
    Provides audio editor, audio player.
    <br>
    Usage: Tools -> Open Audio
    <br>
    ]]></description>

  <depends>org.jetbrains.kotlin</depends>

  <extensions defaultExtensionNs="com.intellij">
    <annotator language="TranscriptLanguage"
               id="transcriptAnnotator"
               implementationClass="vladsaif.syncedit.plugin.lang.transcript.annotators.TranscriptAnnotator"/>
    <fileTypeFactory implementation="vladsaif.syncedit.plugin.lang.transcript.psi.TranscriptFileTypeFactory"/>
    <fileTypeFactory implementation="vladsaif.syncedit.plugin.lang.transcript.psi.InternalTranscriptFileTypeFactory"/>
    <fileTypeFactory implementation="vladsaif.syncedit.plugin.format.ScreencastFileTypeFactory"/>
    <lang.parserDefinition language="TranscriptLanguage"
                           implementationClass="vladsaif.syncedit.plugin.lang.transcript.parser.TranscriptParserDefinition"/>
    <lang.syntaxHighlighterFactory language="TranscriptLanguage"
                                   implementationClass="vladsaif.syncedit.plugin.lang.transcript.annotators.TranscriptHighlighterFactory"/>
    <renameHandler implementation="vladsaif.syncedit.plugin.lang.transcript.refactoring.TranscriptRenameHandler"
                   order="first"/>
  </extensions>
  <actions>
    <group text="Screencast Editor" id="ScreencastEditor" popup="true" compact="false">
      <add-to-group group-id="ToolsMenu" anchor="last"/>
      <action id="vladsaif.syncedit.plugin.actions.tools.OpenScreencast"
              class="vladsaif.syncedit.plugin.actions.tools.OpenScreencast"
              icon="ScreencastEditorIcons.SCREENCAST"
              text="Open Screencast"
              description="Open Screencast audio and script data"/>
      <action id="vladsaif.syncedit.plugin.actions.tools.ManageScriptTranscriptRelations"
              icon="ScreencastEditorIcons.SETTINGS"
              class="vladsaif.syncedit.plugin.actions.tools.ManageScriptTranscriptRelations"
              text="Manage transcript-script relations"
              description="Open associations window"/>
      <action id="vladsaif.syncedit.plugin.recognition.ChooseRecognizerAction"
              icon="ScreencastEditorIcons.SETTINGS"
              class="vladsaif.syncedit.plugin.recognition.ChooseRecognizerAction"
              text="Choose speech recognizer"
              description="Choose speech recognizer"/>
      <action id="vladsaif.syncedit.plugin.actions.internal.FakeRecording"
              icon="ScreencastEditorIcons.SETTINGS"
              class="vladsaif.syncedit.plugin.actions.internal.FakeRecording"
              text="Record sound (FAKE)"
              description="Start diff window"/>
      <separator/>
      <group id="SpeechRecognizers" popup="false" compact="true">
        <group text="Google Speech Kit" id="GSpeechKit" popup="true" compact="true"/>
      </group>
    </group>
    <action id="vladsaif.syncedit.plugin.actions.tools.SetCredentials"
            icon="ScreencastEditorIcons.SETTINGS"
            class="vladsaif.syncedit.plugin.actions.tools.SetCredentials"
            text="Set Cloud Recognition Credentials"
            description="Set credentials used in cloud recognition">
      <add-to-group group-id="GSpeechKit" anchor="last"/>
    </action>
    <action id="vladsaif.syncedit.plugin.lang.transcript.ConcatenateAction"
            class="vladsaif.syncedit.plugin.lang.transcript.refactoring.ConcatenateAction"
            text="Concatenate Words"
            description="Concatenate selected words">
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="SafeDelete"/>
      <keyboard-shortcut keymap="$default" first-keystroke="ctrl alt C"/>
    </action>
    <action id="vladsaif.syncedit.plugin.lang.transcript.refactoring.ExcludeAction"
            class="vladsaif.syncedit.plugin.lang.transcript.refactoring.ExcludeAction"
            text="Exclude Word"
            description="Exclude word from transcript">
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="SafeDelete"/>
      <keyboard-shortcut keymap="$default" first-keystroke="alt DELETE"/>
    </action>
    <action id="vladsaif.syncedit.plugin.lang.transcript.refactoring.IncludeAction"
            class="vladsaif.syncedit.plugin.lang.transcript.refactoring.IncludeAction"
            text="Include Word"
            description="Include to transcript previously excluded word ">
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="SafeDelete"/>
      <keyboard-shortcut keymap="$default" first-keystroke="alt EQUALS"/>
    </action>
    <action id="vladsaif.syncedit.plugin.lang.transcript.refactoring.MuteAction"
            class="vladsaif.syncedit.plugin.lang.transcript.refactoring.MuteAction"
            text="Mute Word"
            description="Mute word">
      <add-to-group group-id="RefactoringMenu" anchor="after" relative-to-action="SafeDelete"/>
      <keyboard-shortcut keymap="$default" first-keystroke="alt M"/>
    </action>
    <group id="vladsaif.syncedit.plugin.ProjectViewGroup"
           text="Screencast Editor"
           popup="true"
           compact="true">
      <add-to-group group-id="ProjectViewPopupMenu" anchor="after" relative-to-action="ProjectViewPopupMenuRunGroup"/>
      <action id="vladsaif.syncedit.plugin.actions.project.OpenScreencastFromProjectTree"
              class="vladsaif.syncedit.plugin.actions.project.OpenScreencastFromProjectTree"
              text="Open Screencast"
              description="Open in Screencast Audio Editor"
              icon="ScreencastEditorIcons.EQUALIZER">
      </action>
    </group>
  </actions>
  <application-components>
    <component>
      <implementation-class>vladsaif.syncedit.plugin.LibrariesLoader</implementation-class>
    </component>
  </application-components>

  <extensionPoints>
    <extensionPoint qualifiedName="vladsaif.syncedit.plugin.recognition.SpeechRecognizer"
                    interface="vladsaif.syncedit.plugin.recognition.SpeechRecognizer"/>
  </extensionPoints>

  <extensions defaultExtensionNs="vladsaif.syncedit.plugin">
    <recognition.SpeechRecognizer implementation="vladsaif.syncedit.plugin.recognition.recognizers.GSpeechKit"/>
  </extensions>
</idea-plugin>